# 前言

当我第一次提交PHP项目补丁的时候，如果你告诉我会在三年之后写一本关于这个话题的书，我一定会打电话吐槽你，然后忽略你的冷笑话。相较于PHP开发的文化是如此的受欢迎，扩展开发却深陷泥潭，困难重重。“为什么不会有更多的扩展开发人员？”也成了困扰着我的唯一问题。

答案很简单，尽管PHP的用户空间与法和函数的文档从各个方面都是最好的，但是内部的文档却往往是不完善的、过时的——比如现在的PHP6完全的Unicode支持、新引入API的调用与变更以及二进制安全。

而熟识PHP怪癖的老司机通常都淡定地回俩字——“源码”。客观的讲，这是一个有效的答案，因为几乎所有的核心方法和扩展（包括默认扩展和PECL）都严格的遵循标准，有全面的评论和规范的格式，便于阅读……只要你习惯了，恩，只要你习惯了。

但是，扩展开发的萌新又该从哪里开始呢？谁知道PHP_LONG_MACRO_NAME()是干什么的；zval和pval之间有什么区别?

> zval和pval没有区别，他们是同一个变量类型

本书旨在让PHP扩展开发像PHP语言一样便于访问学习与受欢迎。通过展示良好规划和强大的PHP API以及Zend Engine，我们将受益于更多来自于开源社区和商业级的优秀开发者。