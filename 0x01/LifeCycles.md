# 生命周期

每个PHP实例，无论是从初始化脚本启动还是命令行启动。都遵循MINIT、RINIT、RSHUTDOWN、MSHUTDOWN以及脚本本身的实际执行这五个部分。觉体每次启动和关闭阶段执行次数与频次取决于所使用的SAPI。最常见的四种SAPI分别是CLI/CGI、多进程模块、多线程模块和嵌入式。

## CLI生命周期

CLI（和CGI） SAPI在其每一次请求的生命周期中都是独一无二的；然而，模块和请求的步骤仍然处在独立的循环中。下图展示了在命令行执行test.php，PHP解释器所发生的一切。

![请求循环与引擎生命周期](../img/0x01/1.png)